import{r as a,N as S,j as t,u as k,a as w}from"./index-n9Og-A_M.js";import{P as z,L as P,z as c,y as h,l as b}from"./index-CLNE_Rt8.js";const D=c.object({title:c.string().min(1,"Title required"),details:c.string().min(3,"Must be 3 characters long")}),B=()=>{const[l,d]=a.useState(""),[n,u]=a.useState(""),[r,m]=a.useState({}),[i,p]=a.useState(!1),[E,j]=a.useContext(S),v=e=>h.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:b}),N=e=>h.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",transition:b}),y=async e=>{var g,x;e.preventDefault();const f=D.safeParse({title:l,details:n});if(!f.success){const s=f.error.flatten().fieldErrors;m({title:(g=s.title)==null?void 0:g[0],details:(x=s.details)==null?void 0:x[0]});return}p(!0);const C={title:l,details:n};try{const{getnote:s}=k(j),o=await w.post("/create",C);if(s(),!o)return;o.data.success||N(o.data.message),v(o.data.message)}catch(s){console.log(s)}d(""),u(""),m({}),p(!1)};return t.jsxs("div",{onSubmit:y,className:"form p-10 text-white",children:[t.jsxs("form",{className:"w-90 max-w-100",children:[r.title===""?"":t.jsx("p",{className:"text-red-500",children:r.title}),t.jsx("input",{onChange:e=>d(e.target.value),value:l,className:"block w-full h-15 px-5 py-3 bg-zinc-800 outline-none rounded-md",type:"text",name:"filename",placeholder:"title goes here..."}),r.details===""?"":t.jsx("p",{className:"text-red-500 mt-3",children:r.details}),t.jsx("textarea",{onChange:e=>u(e.target.value),value:n,className:"block w-full h-85 px-5 py-3 resize-none bg-zinc-800 outline-none rounded-md",name:"details",placeholder:"Write your details"}),t.jsxs("button",{disabled:i,className:"bg-color text-md mt-3 p-2 rounded-md hover:scale-110 hover:text-xl transition-all duration-500 ease-in-out",children:[!i&&"Create Notes",i&&t.jsx(z,{color:"#fff",size:12})]})]}),t.jsx(P,{})]})};export{B as default};
